(()=>{var e={424:(e,t)=>{t.Parse=function(e,t){var s,o,a,n,l,r,c,d="",u="",p="",v=0,m=[],g=[];for(i=0;i<e.length;i++){var h=e[i],f=i>0?e[i-1]:null,b=10==h&&13==f;if(10==h||13==h||(d+=String.fromCharCode(h)),0==v&&b)"--"+t==d&&(v=1),d="";else if(1==v&&b)u=d,v=2,d="";else if(2==v&&b)p=d,v=3,d="";else if(3==v&&b)v=4,m=[],d="";else if(4==v){if(d.length>t.length+4&&(d=""),"--"+t==d){var y=m.length-d.length,L={header:u,info:p,part:m.slice(0,y-1)};g.push((o=void 0,a=void 0,n=void 0,l=void 0,r=void 0,c=void 0,a=(o=(s=L).header.split(";")[2].split("="))[0].trim(),n=JSON.parse(o[1].trim()),l={},Object.defineProperty(l,a,{value:n,writable:!0,enumerable:!0,configurable:!0}),r=l,c=s.info.split(":")[1].trim(),Object.defineProperty(r,"type",{value:c,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(r,"data",{value:new Buffer(s.part),writable:!0,enumerable:!0,configurable:!0}),r)),m=[],d="",v=5,u="",p=""}else m.push(h);b&&(d="")}else 5==v&&b&&(v=1)}return g},t.getBoundary=function(e){var t=e.split(";");if(t)for(i=0;i<t.length;i++){var s=new String(t[i]).trim();if(s.indexOf("boundary")>=0){var o=s.split("=");return new String(o[1]).trim()}}return""},t.DemoData=function(){return body="trash1\r\n",body+="------WebKitFormBoundaryvef1fLxmoUdYZWXp\r\n",body+='Content-Disposition: form-data; name="uploads[]"; filename="A.txt"\r\n',body+="Content-Type: text/plain\r\n",body+="\r\n\r\n",body+="@11X",body+="111Y\r\n",body+="111Z\rCCCC\nCCCC\r\nCCCCC@\r\n\r\n",body+="------WebKitFormBoundaryvef1fLxmoUdYZWXp\r\n",body+='Content-Disposition: form-data; name="uploads[]"; filename="B.txt"\r\n',body+="Content-Type: text/plain\r\n",body+="\r\n\r\n",body+="@22X",body+="222Y\r\n",body+="222Z\r222W\n2220\r\n666@\r\n",body+="------WebKitFormBoundaryvef1fLxmoUdYZWXp--\r\n",new Buffer(body,"utf-8")}}},t={};function s(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,s),i.exports}(()=>{"use strict";const e=document.querySelector("#btnSubmit"),t={author:{identification:"123"},authorDependence:{code:"71301"},type:{id:"2563"},reference:"Prueba Cancelación de Gravamenes",observations:"Correo electrónico - checklist",sourceThirdPerson:{identificationType:{name:""},identification:"",name:"",lastname:"",email:"",address:"",phone:"",municipality:{code:"11001"}},targetDependence:{code:"71301"},targetUser:{identification:"46382722"}},o=new Proxy({documento:null,anexos:[]},{set:(t,s,o)=>(t[s]=o,e.disabled="documento"!==s||null===o,null!==t.documento&&(e.disabled=!1),!0)}),a=async()=>(function(){const e=document.querySelectorAll('.desplegable-govco[data-type="filter"]');for(const t of e)c(t.id)}(),document.body.addEventListener("mouseup",i.bind(void 0),!0),!0);function i(e){e.preventDefault(),e.target.closest(".checkbox-seleccion-govco")||e.target.closest(".desplegable-govco")||function(){const e=document.querySelectorAll(".desplegable-govco:not(.desplegable-calendar-govco) .desplegable-selected-option:not(.dont-close)");e&&e.forEach((function(e){if(e.classList.contains("desplegable-arrow-active")&&(e.classList.remove("desplegable-arrow-active"),e.nextElementSibling.classList.add("desplegable-hide"),e.classList.contains("search-filter-selected-option"))){const t=e.nextElementSibling.querySelector(".same-as-selected");t&&(e.querySelector("input").value=t.innerHTML)}}))}()}function n(e){e.preventDefault();let t=this.querySelector(".desplegable-selected-option");if(t.classList.contains("desplegable-arrow-active"))if("DIV"==t.tagName&&(t=t.querySelector("input")),this.querySelector(".desplegable-items").onscroll=function(){const e=this.querySelectorAll("li");document.activeElement==e[0]&&(this.scrollTop=0)},38==e.which)!function(e,t){const s=document.activeElement,o=e.querySelectorAll(".desplegable-items li:not(.none-desplegable-govco)");if(s===o[0])t.focus();else for(let e=1;e<o.length;e++)s===o[e]&&o[e-1].focus()}(this,t);else if(40==e.which)!function(e,t){let s=document.activeElement;const o=e.querySelectorAll(".desplegable-items li:not(.none-desplegable-govco)"),a=e.querySelector(".desplegable-items li.same-as-selected");if(a&&s===t)a.focus();else if(s===t)o[0].focus();else for(let e=0;e<o.length-1;e++)s===o[e]&&o[e+1].focus()}(this,t);else if(9==e.which){let s=e.target.parentNode;"INPUT"==t.tagName&&(s=s.parentNode),l(s)}}function l(e){const t=e.querySelector(".desplegable-items"),s=e.querySelector(".desplegable-selected-option.desplegable-arrow-active");if(s&&(s.classList.remove("desplegable-arrow-active"),t.classList.add("desplegable-hide")),e.classList.contains("desplegable-filter-govco")){const t=e.querySelector(".same-as-selected");t&&(e.querySelector(".desplegable-selected-option input").value=t.innerHTML)}}function r(e){e.preventDefault(),13==e.which?function(e){const t=e.parentNode,s=t.parentNode;let o=s.querySelector(".desplegable-selected-option"),a=s.querySelector('input[type="hidden"]');const i=t.querySelector("li.same-as-selected");i&&(i.classList.remove("same-as-selected"),0==i.classList.length&&i.removeAttribute("class")),"DIV"==o.tagName?(o.querySelector(".btn-clear-desplegable-govco").classList.remove("d-none"),o=o.querySelector("input"),o.value=e.innerHTML):o.innerHTML=e.innerHTML,a.value=e.getAttribute("value"),e.classList.add("same-as-selected"),l(s)}(e.target):9==e.which&&l(e.target.parentNode.parentNode)}function c(e){let s;const o=document.getElementById(e);if(null==o||null==o)return!1;const a=o.querySelector("select"),i=function(e){const t=document.createElement("DIV");return t.setAttribute("class","desplegable-selected-option search-filter-selected-option"),t.addEventListener("click",d),"true"==e.getAttribute("aria-invalid")&&t.classList.add("error-desplegable-govco"),t}(a);o.appendChild(i);let l=document.createElement("ul");l.setAttribute("class","desplegable-items desplegable-hide");const c=function(e,t){let s=document.createElement("input");return s.setAttribute("type","text"),s.setAttribute("autocomplete","off"),s.setAttribute("class","browser-default"),s.addEventListener("keyup",u),s.addEventListener("keydown",p),s.setAttribute("placeholder",e.getAttribute("placeholder")?e.getAttribute("placeholder"):"Ingrese texto..."),e.disabled&&(s.disabled=!0,t.classList.add("disabled-desplegable-govco"),t.parentNode.previousElementSibling.classList.add("disabled-desplegable-govco")),s}(a,i),g=a.options[a.selectedIndex].getAttribute("value")?a.options[a.selectedIndex].getAttribute("value"):"";g>0&&(c.value=a.options[a.selectedIndex].innerHTML),i.appendChild(c);const h=document.createElement("button");h.addEventListener("click",m),h.setAttribute("class","btn-clear-desplegable-govco"),0==g&&h.classList.add("d-none"),i.appendChild(h);for(let e=1;e<a.length;e++)s=document.createElement("li"),s.innerHTML=a.options[e].innerHTML,s.setAttribute("value",a.options[e].getAttribute("value")),s.setAttribute("tabindex","-1"),g>0&&a.options[e].getAttribute("value")==g&&s.classList.add("same-as-selected"),s.addEventListener("click",(function(s){t.sourceThirdPerson.identificationType.name=a.options[e].getAttribute("value"),v(s.target)})),s.addEventListener("keydown",r),l.appendChild(s);o.appendChild(l);let f=function(e,t){let s=document.createElement("input");if(s.setAttribute("type","hidden"),s.value=t,e.attributes.length>0)for(const t of e.attributes)"class"==t.name?s.classList.add(t.value):s.setAttribute(t.name,t.value);return s.addEventListener("change",(e=>{console.log(s)})),s}(a,g);o.appendChild(f),o.addEventListener("keydown",n),o.removeChild(a)}function d(e){if(e.preventDefault(),this.classList.contains("desplegable-arrow-active")){this.classList.remove("desplegable-arrow-active");const e=this.nextElementSibling;e.classList.add("desplegable-hide");const t=e.querySelector(".same-as-selected");t&&(this.querySelector("input").value=t.innerHTML)}else e.stopPropagation(),h(this),g(this.querySelector("input")),this.querySelector("input").focus()}function u(){g(this)}function p(e){e.preventDefault(),13==e.which&&h(this.parentNode)}function v(e){const t=e.parentNode,s=t.parentNode,o=s.querySelector(".desplegable-selected-option input"),a=s.querySelector('input[type="hidden"]'),i=t.querySelector("li.same-as-selected");i&&(i.classList.remove("same-as-selected"),0==i.classList.length&&i.removeAttribute("class")),o.value=e.innerHTML,a.value=e.getAttribute("value"),e.classList.add("same-as-selected"),s.querySelector(".btn-clear-desplegable-govco").classList.remove("d-none"),l(s)}function m(e){e.preventDefault();const t=e.target.closest(".desplegable-govco.desplegable-filter-govco"),s=t.querySelector(".desplegable-selected-option input");s.value="",g(s),t.querySelector(".btn-clear-desplegable-govco").classList.add("d-none"),t.querySelector(".desplegable-items").querySelector(".same-as-selected").classList.remove("same-as-selected")}function g(e){const t=e.closest(".desplegable-govco.desplegable-filter-govco").querySelector("input[type='hidden']");let s,o,a;for(s=e.value.toUpperCase(),o=e.parentNode.nextElementSibling.getElementsByTagName("li"),a=0;a<o.length;a++)(o[a].textContent||o[a].innerText).toUpperCase().indexOf(s)>-1?o[a].classList.remove("none-desplegable-govco"):o[a].classList.add("none-desplegable-govco");const i=e.nextElementSibling;""!=e.value&&null!=e.value&&null!=e.value?i.classList.remove("d-none"):(i.classList.add("d-none"),t.value="")}function h(e){e&&(e.nextElementSibling.classList.remove("desplegable-hide"),e.classList.add("desplegable-arrow-active"))}function f(e,t,s){for(let o of s)o.addEventListener(e,t,!1)}function b(e){var s=/^\d+$/;s.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Número de documento válido","success","")):!1===s.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Número de documento no válido","error","")),t.sourceThirdPerson.identification=e.target.value}function y(e){var s=/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/;s.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Nombre válido","success","")):!1===s.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Nombre no válido","error","")),t.sourceThirdPerson.name=e.target.value}function L(e){var s=/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/;s.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Apellido válido","success","")):!1===s.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Apellido no válido","error","")),t.sourceThirdPerson.lastname=e.target.value}function S(e){const s=/^([da-z_.-]+)@([da-z.-]+).([a-z.]{2,6})$/;s.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Correo electrónico válido","success","")):!1===s.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Correo electrónico no válido","error","")),t.sourceThirdPerson.email=e.target.value}function x(e){const s=/(\d{3}\d{7})/;s.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Número de teléfono válido","success","")):!1===s.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Número de teléfono no válido","error","")),t.sourceThirdPerson.phone=e.target.value}function A(e){const s=/[-a-zA-Z0-9+&@#\/%?=~_|!:,.;]/gm;s.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Dirección válida","success","")):!1===s.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Dirección no válida","error","")),t.sourceThirdPerson.address=e.target.value}function q(e,t,s,o){var a={success:{id:"campoSuccess-id","aria-invalid":"false",class:"success-texto-govco",role:"status","aria-live":"polite"},error:{id:"campoWarning-id","aria-invalid":"true",class:"error-texto-govco",role:"alert","aria-live":"assertive"}},i=e.closest(".entradas-de-texto-govco"),n=i.querySelector(".alert-entradas-de-texto-govco");n&&i.removeChild(n);var l=document.createElement("span"),r=i.appendChild(l);e.setAttribute("aria-describedby",o+" "+a[s].id),e.setAttribute("aria-invalid",a[s]["aria-invalid"]),r.textContent=t,r.classList.add(a[s].class,"alert-entradas-de-texto-govco"),r.id=a[s].id,r.setAttribute("role",a[s].role),r.setAttribute("aria-live",a[s]["aria-live"])}const E={},C={},w={},N="Seleccione un documento para adjuntar.",T=()=>{let e=document.querySelectorAll(".container-carga-de-archivo-govco");for(let t of e)t.offsetWidth<340?t.classList.add("responsive-govco","small-fileupload-govco"):t.offsetWidth<652?(t.classList.add("responsive-govco"),t.classList.remove("small-fileupload-govco")):t.classList.remove("responsive-govco","small-fileupload-govco")},D=e=>{const t=e.target,s=t.id,o=t.parentNode,a=o.parentNode.querySelector(".button-loader-carga-de-archivo-govco");let i="";const n=w[s].maximumQuantity;if(C[s]=[],H(t,!1,""),E[s].length+t.files.length>n)H(t,!0,"Supera la cantidad de archivos permitida."),E[s].length>=n&&(t.disabled=!0,t.classList.remove("active"));else if(t.files.length>0){let e=z(t.files,s);if(0===e.invalidExtensions&&0===e.invalidSize)i=C[s]&&C[s].length>1?C[s].length+" archivos seleccionados":C[s][0].name,I(o,i),M(a,!1);else{C[s]=[];const o=k(e.invalidExtensions,e.invalidSize);H(t,!0,o)}}else H(t,!0,N),U(t,o),M(a,!0)},k=(e,t)=>{let s="";return e>0&&(s=e>1?"Formato de archivo no permitido.":"Uno de los archivos tiene un formato no admitido."),t>0&&(s+=t>1?" El archivo excede el tamaño máximo permitido.":" Uno de los archivos excede el tamaño máximo permitido."),s},z=(e,t)=>{let s=0,o=0,a=w[t].validExtensions,i=w[t].validSize;return a.length>0||i>0?[...e].forEach((e=>{const n=e.name.split(".").pop().toLowerCase();a&&Array.isArray(a)&&a.includes(n)?i>=e.size?C[t].push(e):o++:s++})):C[t].push(...e),{invalidExtensions:s,invalidSize:o}},P=(e,t=[],s=0,o=1)=>{const a=t.map((e=>e.toString().toLowerCase())),i=isNaN(s)?0:parseInt(s),n=isNaN(o)?0:parseInt(o);w[e]={validExtensions:a,validSize:i,maximumQuantity:n}},I=(e,t)=>{e.querySelector(".file-name-carga-de-archivo-govco").innerHTML=t||"Sin archivo seleccionado"},M=(e,t)=>{e.disabled=t},B=async e=>{const t=e.target,s=t.parentNode.parentNode,o=s.querySelector(".input-carga-de-archivo-govco"),a=o.id,i=s.querySelector(".load-carga-de-archivo-govco");if(j(i,!0),M(t,!0),o.value){const e=s.nextElementSibling,t=e.querySelector(".attached-files-carga-de-archivo-govco"),n=await Z(o,i,s,"add",C[a]);n.length>0&&(F(t,n,a),e.style.display=E[a].length>0?"block":"none",E[a].length>=w[a].maximumQuantity&&(o.disabled=!0,o.classList.remove("active"))),U(o,s)}else H(o,!0,N),j(i,!1)},Z=async(e,t,s,a,i)=>{const n="add"==a?"data-action":"data-action-delete",l=e.getAttribute(n);let r={};try{if("uploadDocument"===l)o.documento=i[0],r=i;else if("uploadFile"===l)o.anexos=o.anexos.concat(i),r=i;else if("deleteDocument"===l)o.documento=null,r=o.anexos;else if("deleteFile"===l){console.log(l);const e=o.anexos.findIndex((e=>e.name===i.name));console.log(e),o.anexos.splice(e,1),r=o.anexos}else if(r=i,j(t,!1),"delete"==a)return!0;if(console.log(o),j(t,!1),"delete"==a)return!0}catch(o){if(H(e,!0,o),j(t,!1),U(e,s),"delete"==a)return!1}return r},H=(e,t,s)=>{const o=e.parentNode.parentNode.nextElementSibling,a=o.querySelector(".alert-carga-de-archivo-govco"),i=e.id;e.setAttribute("data-error",t?"1":"0"),W(a,t),a.innerHTML=s,E[i].length<=0&&(o.style.display=t?"block":"none")},W=(e,t)=>{t?e.classList.remove("visually-hidden"):e.classList.add("visually-hidden")},j=(e,t)=>{e.style.visibility=t?"visible":"hidden"},U=(e,t)=>{e.value="",I(t,"")},F=(e,t,s)=>(t.forEach((function(t){const o=X(t.size);O(e,t.name,o),E[s].push(t)})),!0),O=(e,t,s)=>{const o=document.createElement("div");o.classList.add("attached-file-carga-de-archivo-govco"),o.setAttribute("tabindex","0");const a=document.createElement("div");a.classList.add("icon-text-carga-de-archivo-govco");const i=document.createElement("div");i.classList.add("file-alt-carga-de-archivo-govco");const n=document.createElement("div");n.classList.add("container-text-name-carga-de-archivo-govco");const l=document.createElement("span");l.classList.add("text-name-carga-de-archivo-govco");const r=document.createTextNode(t);l.appendChild(r);const c=document.createElement("span"),d=document.createTextNode(s);c.appendChild(d);const u=document.createElement("button");u.classList.add("trash-alt-1-carga-de-archivo-govco"),a.appendChild(i),n.appendChild(l),n.appendChild(c),a.appendChild(n),o.appendChild(a),o.appendChild(u),e.appendChild(o),u.addEventListener("click",$,!1)},X=e=>{if(e){var t=parseInt(e);return t<1024?t+"bytes":t<1048576?parseInt(t/1024)+"KB":t<1073741824?parseInt(t/1048576)+"MB":parseInt(t/1073741824)+"GB"}},$=async e=>{const t=e.target.parentNode,s=t.parentNode.parentNode,o=s.parentNode,a=o.querySelector(".input-carga-de-archivo-govco"),i=a.id,n=o.querySelector(".load-carga-de-archivo-govco"),l=t.querySelector(".text-name-carga-de-archivo-govco").innerHTML,r=E[i].find((e=>e.name===l)),c=E[i].indexOf(r);if(j(n,!0),c>=0){if(!0===await Z(a,n,o,"delete",r)){let e=t.parentNode;E[i].splice(c,1),e.removeChild(t),E[i].length<w[i].maximumQuantity&&(a.disabled=!1,a.classList.add("active")),s.style.display=E[i].length>0?"block":"none"}}else j(n,!1)},Q=s(424);window.addEventListener("load",(async()=>{await a(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");f("keyup",b,document.querySelectorAll('input[typeData="identification"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");f("keyup",y,document.querySelectorAll('input[typeData="name"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");f("keyup",L,document.querySelectorAll('input[typeData="surname"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");f("keyup",S,document.querySelectorAll('input[typeData="mail"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");f("keyup",x,document.querySelectorAll('input[typeData="phone"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");f("keyup",A,document.querySelectorAll('input[typeData="text"]'))})(),(()=>{const e=document.querySelectorAll(".input-carga-de-archivo-govco");((e,t,s)=>{for(let o of s)o.addEventListener(e,t,!1),E[o.id]=[],C[o.id]=[],w[o.id]={validExtensions:[],validSize:0,maximumQuantity:1}})("change",D,e);const t=document.querySelectorAll(".button-loader-carga-de-archivo-govco");((e,t,s)=>{for(let o of s)o.addEventListener(e,t,!1)})("click",B,t),window.addEventListener("resize",T),T()})(),P("document",["docx","jpg","pdf","png"],5e6,1),P("files",["docx","jpg","pdf","png"],5e6,10),console.log(t),e.addEventListener("click",(async e=>{e.preventDefault(),await(async(e,t)=>{console.log("upload",e);const s=new FormData,o=JSON.stringify(e),a=new Blob([o],{type:"application/json"}),i=new File([a],"document.json",{type:"application/json"});s.append("document.json",i,i.name);const{documento:n,anexos:l}=t;n&&s.append("documento1",n,n.name),l.length&&l.forEach(((e,t)=>{s.append(`anexo${t+1}`,e,e.name)})),(async e=>{const t=encodeURIComponent("nXSw+spZBJdPbAZSqnzkF4oMWy4Cmv7cj5Ni0NAAM+4=");return await fetch(`https://pruebas-gesdoc.minvivienda.gov.co:443/SGD_WS/gesdoc/createReceived?appkey=${t}`,{method:"POST",mode:"cors",headers:{"Content-Type":"multipart/form-data"},body:e})})(s).then((e=>{if(e.headers.get("Content-Type").startsWith("multipart/mixed"))return e.text();throw new Error("La respuesta del servidor no es de tipo multipart/mixed")})).then((e=>{console.log(e);const t=Q.Parse(e,"--uuid:");for(let e=0;e<t.length;e++){const s=t[e];console.log(s)}})).catch((e=>console.log(e)))})(t,o)}))}))})()})();
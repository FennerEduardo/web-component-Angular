(()=>{"use strict";const e=document.querySelector("#btnSubmit"),t=document.querySelector("#formComplete"),s=document.querySelector("#respuesta"),o={author:{identification:"123"},authorDependence:{code:"71301"},type:{id:"2563"},reference:"Prueba Cancelación de Gravamenes",observations:"Correo electrónico - checklist",sourceThirdPerson:{identificationType:{name:""},identification:"",name:"",lastname:"",email:"",address:"",phone:"",municipality:{code:"11001"}},targetDependence:{code:"71301"},targetUser:{identification:"46382722"}},a=new Proxy({documento:null,anexos:[]},{set:(t,s,o)=>(t[s]=o,e.disabled="documento"!==s||null===o,null!==t.documento&&(e.disabled=!1),!0)}),n=async()=>(function(){const e=document.querySelectorAll('.desplegable-govco[data-type="filter"]');for(const t of e)d(t.id)}(),document.body.addEventListener("mouseup",i.bind(void 0),!0),!0);function i(e){e.preventDefault(),e.target.closest(".checkbox-seleccion-govco")||e.target.closest(".desplegable-govco")||function(){const e=document.querySelectorAll(".desplegable-govco:not(.desplegable-calendar-govco) .desplegable-selected-option:not(.dont-close)");e&&e.forEach((function(e){if(e.classList.contains("desplegable-arrow-active")&&(e.classList.remove("desplegable-arrow-active"),e.nextElementSibling.classList.add("desplegable-hide"),e.classList.contains("search-filter-selected-option"))){const t=e.nextElementSibling.querySelector(".same-as-selected");t&&(e.querySelector("input").value=t.innerHTML)}}))}()}function r(e){e.preventDefault();let t=this.querySelector(".desplegable-selected-option");if(t.classList.contains("desplegable-arrow-active"))if("DIV"==t.tagName&&(t=t.querySelector("input")),this.querySelector(".desplegable-items").onscroll=function(){const e=this.querySelectorAll("li");document.activeElement==e[0]&&(this.scrollTop=0)},38==e.which)!function(e,t){const s=document.activeElement,o=e.querySelectorAll(".desplegable-items li:not(.none-desplegable-govco)");if(s===o[0])t.focus();else for(let e=1;e<o.length;e++)s===o[e]&&o[e-1].focus()}(this,t);else if(40==e.which)!function(e,t){let s=document.activeElement;const o=e.querySelectorAll(".desplegable-items li:not(.none-desplegable-govco)"),a=e.querySelector(".desplegable-items li.same-as-selected");if(a&&s===t)a.focus();else if(s===t)o[0].focus();else for(let e=0;e<o.length-1;e++)s===o[e]&&o[e+1].focus()}(this,t);else if(9==e.which){let s=e.target.parentNode;"INPUT"==t.tagName&&(s=s.parentNode),l(s)}}function l(e){const t=e.querySelector(".desplegable-items"),s=e.querySelector(".desplegable-selected-option.desplegable-arrow-active");if(s&&(s.classList.remove("desplegable-arrow-active"),t.classList.add("desplegable-hide")),e.classList.contains("desplegable-filter-govco")){const t=e.querySelector(".same-as-selected");t&&(e.querySelector(".desplegable-selected-option input").value=t.innerHTML)}}function c(e){e.preventDefault(),13==e.which?function(e){const t=e.parentNode,s=t.parentNode;let o=s.querySelector(".desplegable-selected-option"),a=s.querySelector('input[type="hidden"]');const n=t.querySelector("li.same-as-selected");n&&(n.classList.remove("same-as-selected"),0==n.classList.length&&n.removeAttribute("class")),"DIV"==o.tagName?(o.querySelector(".btn-clear-desplegable-govco").classList.remove("d-none"),o=o.querySelector("input"),o.value=e.innerHTML):o.innerHTML=e.innerHTML,a.value=e.getAttribute("value"),e.classList.add("same-as-selected"),l(s)}(e.target):9==e.which&&l(e.target.parentNode.parentNode)}function d(e){let t;const s=document.getElementById(e);if(null==s||null==s)return!1;const a=s.querySelector("select"),n=function(e){const t=document.createElement("DIV");return t.setAttribute("class","desplegable-selected-option search-filter-selected-option"),t.addEventListener("click",u),"true"==e.getAttribute("aria-invalid")&&t.classList.add("error-desplegable-govco"),t}(a);s.appendChild(n);let i=document.createElement("ul");i.setAttribute("class","desplegable-items desplegable-hide");const l=function(e,t){let s=document.createElement("input");return s.setAttribute("type","text"),s.setAttribute("autocomplete","off"),s.setAttribute("class","browser-default"),s.addEventListener("keyup",p),s.addEventListener("keydown",v),s.setAttribute("placeholder",e.getAttribute("placeholder")?e.getAttribute("placeholder"):"Ingrese texto..."),e.disabled&&(s.disabled=!0,t.classList.add("disabled-desplegable-govco"),t.parentNode.previousElementSibling.classList.add("disabled-desplegable-govco")),s}(a,n),d=a.options[a.selectedIndex].getAttribute("value")?a.options[a.selectedIndex].getAttribute("value"):"";d>0&&(l.value=a.options[a.selectedIndex].innerHTML),n.appendChild(l);const m=document.createElement("button");m.addEventListener("click",g),m.setAttribute("class","btn-clear-desplegable-govco"),0==d&&m.classList.add("d-none"),n.appendChild(m);for(let e=1;e<a.length;e++)t=document.createElement("li"),t.innerHTML=a.options[e].innerHTML,t.setAttribute("value",a.options[e].getAttribute("value")),t.setAttribute("tabindex","-1"),d>0&&a.options[e].getAttribute("value")==d&&t.classList.add("same-as-selected"),t.addEventListener("click",(function(t){o.sourceThirdPerson.identificationType.name=a.options[e].getAttribute("value"),h(t.target)})),t.addEventListener("keydown",c),i.appendChild(t);s.appendChild(i);let f=function(e,t){let s=document.createElement("input");if(s.setAttribute("type","hidden"),s.value=t,e.attributes.length>0)for(const t of e.attributes)"class"==t.name?s.classList.add(t.value):s.setAttribute(t.name,t.value);return s.addEventListener("change",(e=>{console.log(s)})),s}(a,d);s.appendChild(f),s.addEventListener("keydown",r),s.removeChild(a)}function u(e){if(e.preventDefault(),this.classList.contains("desplegable-arrow-active")){this.classList.remove("desplegable-arrow-active");const e=this.nextElementSibling;e.classList.add("desplegable-hide");const t=e.querySelector(".same-as-selected");t&&(this.querySelector("input").value=t.innerHTML)}else e.stopPropagation(),f(this),m(this.querySelector("input")),this.querySelector("input").focus()}function p(){m(this)}function v(e){e.preventDefault(),13==e.which&&f(this.parentNode)}function h(e){const t=e.parentNode,s=t.parentNode,o=s.querySelector(".desplegable-selected-option input"),a=s.querySelector('input[type="hidden"]'),n=t.querySelector("li.same-as-selected");n&&(n.classList.remove("same-as-selected"),0==n.classList.length&&n.removeAttribute("class")),o.value=e.innerHTML,a.value=e.getAttribute("value"),e.classList.add("same-as-selected"),s.querySelector(".btn-clear-desplegable-govco").classList.remove("d-none"),l(s)}function g(e){e.preventDefault();const t=e.target.closest(".desplegable-govco.desplegable-filter-govco"),s=t.querySelector(".desplegable-selected-option input");s.value="",m(s),t.querySelector(".btn-clear-desplegable-govco").classList.add("d-none"),t.querySelector(".desplegable-items").querySelector(".same-as-selected").classList.remove("same-as-selected")}function m(e){const t=e.closest(".desplegable-govco.desplegable-filter-govco").querySelector("input[type='hidden']");let s,o,a;for(s=e.value.toUpperCase(),o=e.parentNode.nextElementSibling.getElementsByTagName("li"),a=0;a<o.length;a++)(o[a].textContent||o[a].innerText).toUpperCase().indexOf(s)>-1?o[a].classList.remove("none-desplegable-govco"):o[a].classList.add("none-desplegable-govco");const n=e.nextElementSibling;""!=e.value&&null!=e.value&&null!=e.value?n.classList.remove("d-none"):(n.classList.add("d-none"),t.value="")}function f(e){e&&(e.nextElementSibling.classList.remove("desplegable-hide"),e.classList.add("desplegable-arrow-active"))}function b(e,t,s){for(let o of s)o.addEventListener(e,t,!1)}function y(e){var t=/^\d+$/;t.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Número de documento válido","success","")):!1===t.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Número de documento no válido","error","")),o.sourceThirdPerson.identification=e.target.value}function L(e){var t=/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/;t.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Nombre válido","success","")):!1===t.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Nombre no válido","error","")),o.sourceThirdPerson.name=e.target.value}function S(e){var t=/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/;t.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Apellido válido","success","")):!1===t.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Apellido no válido","error","")),o.sourceThirdPerson.lastname=e.target.value}function A(e){const t=/^([da-z_.-]+)@([da-z.-]+).([a-z.]{2,6})$/;t.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Correo electrónico válido","success","")):!1===t.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Correo electrónico no válido","error","")),o.sourceThirdPerson.email=e.target.value}function x(e){const t=/(\d{3}\d{7})/;t.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Número de teléfono válido","success","")):!1===t.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Número de teléfono no válido","error","")),o.sourceThirdPerson.phone=e.target.value}function E(e){const t=/[-a-zA-Z0-9+&@#\/%?=~_|!:,.;]/gm;t.test(this.value)&&!1===this.classList.contains("success")?(this.classList.remove("error"),this.classList.add("success"),q(this,"Dirección válida","success","")):!1===t.test(this.value)&&!1===this.classList.contains("error")&&(this.classList.remove("success"),this.classList.add("error"),q(this,"Dirección no válida","error","")),o.sourceThirdPerson.address=e.target.value}function q(e,t,s,o){var a={success:{id:"campoSuccess-id","aria-invalid":"false",class:"success-texto-govco",role:"status","aria-live":"polite"},error:{id:"campoWarning-id","aria-invalid":"true",class:"error-texto-govco",role:"alert","aria-live":"assertive"}},n=e.closest(".entradas-de-texto-govco"),i=n.querySelector(".alert-entradas-de-texto-govco");i&&n.removeChild(i);var r=document.createElement("span"),l=n.appendChild(r);e.setAttribute("aria-describedby",o+" "+a[s].id),e.setAttribute("aria-invalid",a[s]["aria-invalid"]),l.textContent=t,l.classList.add(a[s].class,"alert-entradas-de-texto-govco"),l.id=a[s].id,l.setAttribute("role",a[s].role),l.setAttribute("aria-live",a[s]["aria-live"])}const C={},w={},N={},T="Seleccione un documento para adjuntar.",D=()=>{let e=document.querySelectorAll(".container-carga-de-archivo-govco");for(let t of e)t.offsetWidth<340?t.classList.add("responsive-govco","small-fileupload-govco"):t.offsetWidth<652?(t.classList.add("responsive-govco"),t.classList.remove("small-fileupload-govco")):t.classList.remove("responsive-govco","small-fileupload-govco")},B=e=>{const t=e.target,s=t.id,o=t.parentNode,a=o.parentNode.querySelector(".button-loader-carga-de-archivo-govco");let n="";const i=N[s].maximumQuantity;if(w[s]=[],O(t,!1,""),C[s].length+t.files.length>i)O(t,!0,"Supera la cantidad de archivos permitida."),C[s].length>=i&&(t.disabled=!0,t.classList.remove("active"));else if(t.files.length>0){let e=z(t.files,s);if(0===e.invalidExtensions&&0===e.invalidSize)n=w[s]&&w[s].length>1?w[s].length+" archivos seleccionados":w[s][0].name,k(o,n),H(a,!1);else{w[s]=[];const o=I(e.invalidExtensions,e.invalidSize);O(t,!0,o)}}else O(t,!0,T),Z(t,o),H(a,!0)},I=(e,t)=>{let s="";return e>0&&(s=e>1?"Formato de archivo no permitido.":"Uno de los archivos tiene un formato no admitido."),t>0&&(s+=t>1?" El archivo excede el tamaño máximo permitido.":" Uno de los archivos excede el tamaño máximo permitido."),s},z=(e,t)=>{let s=0,o=0,a=N[t].validExtensions,n=N[t].validSize;return a.length>0||n>0?[...e].forEach((e=>{const i=e.name.split(".").pop().toLowerCase();a&&Array.isArray(a)&&a.includes(i)?n>=e.size?w[t].push(e):o++:s++})):w[t].push(...e),{invalidExtensions:s,invalidSize:o}},U=(e,t=[],s=0,o=1)=>{const a=t.map((e=>e.toString().toLowerCase())),n=isNaN(s)?0:parseInt(s),i=isNaN(o)?0:parseInt(o);N[e]={validExtensions:a,validSize:n,maximumQuantity:i}},k=(e,t)=>{e.querySelector(".file-name-carga-de-archivo-govco").innerHTML=t||"Sin archivo seleccionado"},H=(e,t)=>{e.disabled=t},F=async e=>{const t=e.target,s=t.parentNode.parentNode,o=s.querySelector(".input-carga-de-archivo-govco"),a=o.id,n=s.querySelector(".load-carga-de-archivo-govco");if(M(n,!0),H(t,!0),o.value){const e=s.nextElementSibling,t=e.querySelector(".attached-files-carga-de-archivo-govco"),i=await j(o,n,s,"add",w[a]);i.length>0&&(R(t,i,a),e.style.display=C[a].length>0?"block":"none",C[a].length>=N[a].maximumQuantity&&(o.disabled=!0,o.classList.remove("active"))),Z(o,s)}else O(o,!0,T),M(n,!1)},j=async(e,t,s,o,n)=>{const i="add"==o?"data-action":"data-action-delete",r=e.getAttribute(i);let l={};try{if("uploadDocument"===r)a.documento=n[0],l=n;else if("uploadFile"===r)a.anexos=a.anexos.concat(n),l=n;else if("deleteDocument"===r)a.documento=null,l=a.anexos;else if("deleteFile"===r){console.log(r);const e=a.anexos.findIndex((e=>e.name===n.name));console.log(e),a.anexos.splice(e,1),l=a.anexos}else if(l=n,M(t,!1),"delete"==o)return!0;if(console.log(a),M(t,!1),"delete"==o)return!0}catch(a){if(O(e,!0,a),M(t,!1),Z(e,s),"delete"==o)return!1}return l},O=(e,t,s)=>{const o=e.parentNode.parentNode.nextElementSibling,a=o.querySelector(".alert-carga-de-archivo-govco"),n=e.id;e.setAttribute("data-error",t?"1":"0"),P(a,t),a.innerHTML=s,C[n].length<=0&&(o.style.display=t?"block":"none")},P=(e,t)=>{t?e.classList.remove("visually-hidden"):e.classList.add("visually-hidden")},M=(e,t)=>{e.style.visibility=t?"visible":"hidden"},Z=(e,t)=>{e.value="",k(t,"")},R=(e,t,s)=>(t.forEach((function(t){const o=$(t.size);W(e,t.name,o),C[s].push(t)})),!0),W=(e,t,s)=>{const o=document.createElement("div");o.classList.add("attached-file-carga-de-archivo-govco"),o.setAttribute("tabindex","0");const a=document.createElement("div");a.classList.add("icon-text-carga-de-archivo-govco");const n=document.createElement("div");n.classList.add("file-alt-carga-de-archivo-govco");const i=document.createElement("div");i.classList.add("container-text-name-carga-de-archivo-govco");const r=document.createElement("span");r.classList.add("text-name-carga-de-archivo-govco");const l=document.createTextNode(t);r.appendChild(l);const c=document.createElement("span"),d=document.createTextNode(s);c.appendChild(d);const u=document.createElement("button");u.classList.add("trash-alt-1-carga-de-archivo-govco"),a.appendChild(n),i.appendChild(r),i.appendChild(c),a.appendChild(i),o.appendChild(a),o.appendChild(u),e.appendChild(o),u.addEventListener("click",J,!1)},$=e=>{if(e){var t=parseInt(e);return t<1024?t+"bytes":t<1048576?parseInt(t/1024)+"KB":t<1073741824?parseInt(t/1048576)+"MB":parseInt(t/1073741824)+"GB"}},J=async e=>{const t=e.target.parentNode,s=t.parentNode.parentNode,o=s.parentNode,a=o.querySelector(".input-carga-de-archivo-govco"),n=a.id,i=o.querySelector(".load-carga-de-archivo-govco"),r=t.querySelector(".text-name-carga-de-archivo-govco").innerHTML,l=C[n].find((e=>e.name===r)),c=C[n].indexOf(l);if(M(i,!0),c>=0){if(!0===await j(a,i,o,"delete",l)){let e=t.parentNode;C[n].splice(c,1),e.removeChild(t),C[n].length<N[n].maximumQuantity&&(a.disabled=!1,a.classList.add("active")),s.style.display=C[n].length>0?"block":"none"}}else M(i,!1)},V="3.7.5",Q=V,_="function"==typeof atob,G="function"==typeof btoa,K="function"==typeof Buffer,X="function"==typeof TextDecoder?new TextDecoder:void 0,Y="function"==typeof TextEncoder?new TextEncoder:void 0,ee=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),te=(e=>{let t={};return e.forEach(((e,s)=>t[e]=s)),t})(ee),se=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,oe=String.fromCharCode.bind(String),ae="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),ne=e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_")),ie=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),re=e=>{let t,s,o,a,n="";const i=e.length%3;for(let i=0;i<e.length;){if((s=e.charCodeAt(i++))>255||(o=e.charCodeAt(i++))>255||(a=e.charCodeAt(i++))>255)throw new TypeError("invalid character found");t=s<<16|o<<8|a,n+=ee[t>>18&63]+ee[t>>12&63]+ee[t>>6&63]+ee[63&t]}return i?n.slice(0,i-3)+"===".substring(i):n},le=G?e=>btoa(e):K?e=>Buffer.from(e,"binary").toString("base64"):re,ce=K?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let s=0,o=e.length;s<o;s+=4096)t.push(oe.apply(null,e.subarray(s,s+4096)));return le(t.join(""))},de=(e,t=!1)=>t?ne(ce(e)):ce(e),ue=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?oe(192|t>>>6)+oe(128|63&t):oe(224|t>>>12&15)+oe(128|t>>>6&63)+oe(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return oe(240|t>>>18&7)+oe(128|t>>>12&63)+oe(128|t>>>6&63)+oe(128|63&t)},pe=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ve=e=>e.replace(pe,ue),he=K?e=>Buffer.from(e,"utf8").toString("base64"):Y?e=>ce(Y.encode(e)):e=>le(ve(e)),ge=(e,t=!1)=>t?ne(he(e)):he(e),me=e=>ge(e,!0),fe=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,be=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return oe(55296+(t>>>10))+oe(56320+(1023&t));case 3:return oe((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return oe((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},ye=e=>e.replace(fe,be),Le=e=>{if(e=e.replace(/\s+/g,""),!se.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,s,o,a="";for(let n=0;n<e.length;)t=te[e.charAt(n++)]<<18|te[e.charAt(n++)]<<12|(s=te[e.charAt(n++)])<<6|(o=te[e.charAt(n++)]),a+=64===s?oe(t>>16&255):64===o?oe(t>>16&255,t>>8&255):oe(t>>16&255,t>>8&255,255&t);return a},Se=_?e=>atob(ie(e)):K?e=>Buffer.from(e,"base64").toString("binary"):Le,Ae=K?e=>ae(Buffer.from(e,"base64")):e=>ae(Se(e).split("").map((e=>e.charCodeAt(0)))),xe=e=>Ae(qe(e)),Ee=K?e=>Buffer.from(e,"base64").toString("utf8"):X?e=>X.decode(Ae(e)):e=>ye(Se(e)),qe=e=>ie(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))),Ce=e=>Ee(qe(e)),we=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),Ne=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,we(t));e("fromBase64",(function(){return Ce(this)})),e("toBase64",(function(e){return ge(this,e)})),e("toBase64URI",(function(){return ge(this,!0)})),e("toBase64URL",(function(){return ge(this,!0)})),e("toUint8Array",(function(){return xe(this)}))},Te=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,we(t));e("toBase64",(function(e){return de(this,e)})),e("toBase64URI",(function(){return de(this,!0)})),e("toBase64URL",(function(){return de(this,!0)}))},De={version:V,VERSION:Q,atob:Se,atobPolyfill:Le,btoa:le,btoaPolyfill:re,fromBase64:Ce,toBase64:ge,encode:ge,encodeURI:me,encodeURL:me,utob:ve,btou:ye,decode:Ce,isValid:e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:de,toUint8Array:xe,extendString:Ne,extendUint8Array:Te,extendBuiltins:()=>{Ne(),Te()}};class Be{static async parseAsync(e){const t=await e.text(),s=e.headers.get("Content-Type");return this.parse(t,s)}static parse(e,t){const s={},o=this.parseHeader(t).directives.get("boundary");if(!o)throw new Error("Invalid Content Type: no boundary");let a=`--${o}`;a=a.replace('"',""),a=a.replace('"',""),new Ie;const n=e.split(a);for(const e of n){if(!e)continue;const t=e.match(/Content-Type: ([^\r\n]+)/);if(t){const o=t[1];if(o.startsWith("application/json")){const e=this.extractJSON(t.input);s.json=e}else if(o.startsWith("text/"))e.match(/[\r\n\r\n]([\s\S]*)/)[1];else if(o.startsWith("application/octet-stream")){const t=e.match(/[\r\n\r\n]([\s\S]*)/)[1];s.img=De.btoa(t)}}}return s}static parseHeader(e){if(!e)throw new Error("Invalid Header Value: "+e);var t=new ze;t.fullText=e;const s=e.split(/;/g);t.value=s[0];for(var o=1;o<s.length;o++){const e=s[o].trim().split("=",2);t.directives.append(e[0],e[1])}return t}static nextLine(e,t){const s=e.indexOf("\n",t+1);let o=e.substring(t+1,-1==s?null:s);for(;o.endsWith("\r");)o=o.substr(0,o.length-1);return[o,s]}static extractJSON(e){let t,s,o;t=e.indexOf("{",t+1);do{if(s=e.lastIndexOf("}"),console.log("firstOpen: "+t,"firstClose: "+s),s<=t)return null;do{o=e.substring(t,s+1),console.log("candidate: "+o);try{const e=JSON.parse(o);return console.log("...found"),[e,t,s+1]}catch(e){console.log("...failed")}s=e.substr(0,s).lastIndexOf("}")}while(s>t);t=e.indexOf("{",t+1)}while(-1!=t)}static blobToImage(e){return new Promise((t=>{const s=URL.createObjectURL(e);let o=new Image;o.onload=()=>{URL.revokeObjectURL(s),t(o)},o.src=s}))}}class Ie{entryHeaders=new Headers;bodyHeaders=new Headers;body="";json(){return JSON.parse(this.body)}}class ze{fullText;value;directives=new Headers}const Ue=(e,t=[],s=[])=>{const o=document.createElement(e);return t.forEach((e=>{o.classList.add(e)})),s?.forEach((e=>{e&&o.setAttribute(e.attribute,e.value)})),o},ke=async(e,o)=>{console.log("upload",e);const a=new FormData,n=JSON.stringify(e),i=new Blob([n],{type:"application/json"}),r=new File([i],"document.json",{type:"application/json"});a.append("document.json",r,r.name);const{documento:l,anexos:c}=o;l&&a.append("documento1",l,l.name),c.length&&c.forEach(((e,t)=>{a.append(`anexo${t+1}`,e,e.name)})),He(a).then((async e=>{if(e.headers.get("Content-Type").startsWith("multipart/mixed"))return await Be.parseAsync(e);throw new Error("La respuesta del servidor no es de tipo multipart/mixed")})).then((e=>{console.log("obj data: ",e);const o=Ue("p"),a=Ue("img");o.textContent=`${e.json[0].message}, Recuerde que puede consultar el estado de la petición por medio de nuestro portal con el número de radicado: ${e.json[0].idelement.id}`,a.src=e.img,t.style.display="none",s.appendChild(o),s.appendChild(a)})).catch((e=>console.log(e)))},He=async e=>{const t=encodeURIComponent("nXSw+spZBJdPbAZSqnzkF4oMWy4Cmv7cj5Ni0NAAM+4=");return await fetch(`https://pruebas-gesdoc.minvivienda.gov.co:443/SGD_WS/gesdoc/createReceived?appkey=${t}`,{method:"POST",mode:"cors",headers:{"Content-Type":"multipart/form-data"},body:e})};window.addEventListener("load",(async()=>{await n(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");b("keyup",y,document.querySelectorAll('input[typeData="identification"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");b("keyup",L,document.querySelectorAll('input[typeData="name"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");b("keyup",S,document.querySelectorAll('input[typeData="surname"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");b("keyup",A,document.querySelectorAll('input[typeData="mail"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");b("keyup",x,document.querySelectorAll('input[typeData="phone"]'))})(),(()=>{const e=document.querySelectorAll("input[disabled]");for(let t of e)t.closest(".entradas-de-texto-govco").classList.add("disabled-govco");b("keyup",E,document.querySelectorAll('input[typeData="text"]'))})(),(()=>{const e=document.querySelectorAll(".input-carga-de-archivo-govco");((e,t,s)=>{for(let o of s)o.addEventListener(e,t,!1),C[o.id]=[],w[o.id]=[],N[o.id]={validExtensions:[],validSize:0,maximumQuantity:1}})("change",B,e);const t=document.querySelectorAll(".button-loader-carga-de-archivo-govco");((e,t,s)=>{for(let o of s)o.addEventListener(e,t,!1)})("click",F,t),window.addEventListener("resize",D),D()})(),U("document",["docx","jpg","pdf","png"],5e6,1),U("files",["docx","jpg","pdf","png"],5e6,10),console.log(o),e.addEventListener("click",(async e=>{e.preventDefault(),await ke(o,a)}))}))})();